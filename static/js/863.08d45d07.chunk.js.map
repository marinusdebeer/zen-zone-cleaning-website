{"version":3,"file":"static/js/863.08d45d07.chunk.js","mappings":"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","sources":["components/LazyImage.js","components/Gallery.js","components/FullGalleryPage.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\n\n/**\n * LazyImage component with intersection observer for performance optimization\n * Supports modern image formats and proper loading states\n */\nconst LazyImage = ({ \n  src, \n  alt, \n  className = '', \n  loading = 'lazy',\n  placeholder = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PC9zdmc+',\n  ...props \n}) => {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [isInView, setIsInView] = useState(false);\n  const imgRef = useRef(null);\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          setIsInView(true);\n          observer.disconnect();\n        }\n      },\n      { \n        threshold: 0.1,\n        rootMargin: '50px' // Start loading 50px before image enters viewport\n      }\n    );\n\n    if (imgRef.current) {\n      observer.observe(imgRef.current);\n    }\n\n    return () => observer.disconnect();\n  }, []);\n\n  const handleLoad = () => {\n    setIsLoaded(true);\n  };\n\n  const handleError = () => {\n    setIsLoaded(true);\n  };\n\n  // Only load image when in view, with optimized placeholder\n  const canTranscode = /\\.(png|jpe?g)$/i.test(src || '');\n  const base = canTranscode ? (src || '').replace(/\\.(png|jpe?g|webp|avif)$/i, '') : src;\n  const avifSrc = canTranscode ? `${base}.avif` : src;\n  const webpSrc = canTranscode ? `${base}.webp` : undefined;\n\n  return (\n    <div ref={imgRef} className={`lazy-image-wrapper ${className}`} style={{ minHeight: '200px' }}>\n      {isInView ? (\n        canTranscode ? (\n          <picture>\n            <source type=\"image/avif\" srcSet={(props['data-avif'] || avifSrc)} />\n            {webpSrc || props['data-webp'] ? <source type=\"image/webp\" srcSet={(props['data-webp'] || webpSrc)} /> : null}\n            <img\n              src={(props['data-webp'] || webpSrc || src)}\n              alt={alt}\n              loading=\"lazy\"\n              onLoad={handleLoad}\n              onError={handleError}\n              style={{\n                opacity: isLoaded ? 1 : 0,\n                transition: 'opacity 0.2s ease',\n                width: '100%',\n                height: '100%',\n                objectFit: 'cover',\n              }}\n              {...props}\n            />\n          </picture>\n        ) : (\n          <img\n            src={src}\n            alt={alt}\n            loading=\"lazy\"\n            onLoad={handleLoad}\n            onError={handleError}\n            style={{\n              opacity: isLoaded ? 1 : 0,\n              transition: 'opacity 0.2s ease',\n              width: '100%',\n              height: '100%',\n              objectFit: 'cover',\n            }}\n            {...props}\n          />\n        )\n      ) : (\n        <div \n          style={{\n            background: 'linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%)',\n            backgroundSize: '200% 100%',\n            animation: 'shimmer 1.5s infinite',\n            minHeight: '200px',\n            width: '100%',\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default LazyImage;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport LazyImage from './LazyImage';\nimport './Gallery.css';\n\n// Auto‑wire images from public/images/gallery\nconst galleryFileNames = [\n  '1.JPG',\n  '2.JPG',\n  '3.JPG',\n  '4.JPG',\n  '5.JPG',\n  '6.JPG',\n  '7.JPG',\n  '8.JPG',\n  '9.JPG',\n  '10.JPG',\n  '11.JPG',\n  '12.JPG',\n  '13.JPG',\n  '14.JPG',\n  '15.JPG',\n  '16.JPG',\n  '17.JPG',\n  '18.JPG',\n  '19.JPG',\n  '20.JPG',\n  '21.JPG',\n  '22.JPG',\n  '23.JPG',\n  '24.JPG',\n  '25.JPG',\n  '26.JPG',\n  '27.JPG',\n  '28.JPG',\n  '29.JPG',\n  '30.JPG',\n  '31.JPG',\n  '32.JPG',\n];\n\n// Balanced mosaic pattern for a more satisfying layout\nconst mosaicPattern = [\n  'wide',\n  'square',\n  'square',\n  'tall',\n  'square',\n  'wide',\n  'square',\n  'tall',\n  'square',\n  'square',\n  'wide',\n  'square',\n  'tall',\n  'square',\n  'square',\n];\nconst makeCaption = (name) => `Project ${name.replace(/\\.JPG$/i, '')}`;\n\nconst GALLERY_ITEMS = galleryFileNames.map((fileName, idx) => ({\n  src: `${process.env.PUBLIC_URL}/images/gallery/${fileName}`,\n  // Provide explicit fallbacks to modern formats for JPEGs\n  avif: `${process.env.PUBLIC_URL}/images/gallery/${fileName.replace(/\\.JPG$/i, '.avif')}`,\n  webp: `${process.env.PUBLIC_URL}/images/gallery/${fileName.replace(/\\.JPG$/i, '.webp')}`,\n  alt: makeCaption(fileName),\n  caption: makeCaption(fileName),\n  size: mosaicPattern[idx % mosaicPattern.length],\n}));\n\nexport default function Gallery({\n  limit = null,\n  fullWidth = false,\n  compact = false,\n  strip = false,\n}) {\n  const [lightboxIndex, setLightboxIndex] = React.useState(null);\n  const totalItems = limit ? Math.min(limit, GALLERY_ITEMS.length) : GALLERY_ITEMS.length;\n\n  const openLightbox = (index) => setLightboxIndex(index % totalItems);\n  const closeLightbox = () => setLightboxIndex(null);\n  const showPrev = (e) => {\n    e.stopPropagation();\n    setLightboxIndex((i) => (i === null ? null : (i + totalItems - 1) % totalItems));\n  };\n  const showNext = (e) => {\n    e.stopPropagation();\n    setLightboxIndex((i) => (i === null ? null : (i + 1) % totalItems));\n  };\n\n  React.useEffect(() => {\n    if (lightboxIndex === null) return;\n    const onKey = (e) => {\n      if (e.key === 'Escape') closeLightbox();\n      if (e.key === 'ArrowLeft') setLightboxIndex((i) => (i + totalItems - 1) % totalItems);\n      if (e.key === 'ArrowRight') setLightboxIndex((i) => (i + 1) % totalItems);\n    };\n    document.addEventListener('keydown', onKey);\n    return () => document.removeEventListener('keydown', onKey);\n  }, [lightboxIndex, totalItems]);\n\n  // Keep index in range if `limit` changes while lightbox is open\n  React.useEffect(() => {\n    if (lightboxIndex === null) return;\n    if (lightboxIndex >= totalItems) {\n      setLightboxIndex(totalItems - 1);\n    }\n  }, [totalItems, lightboxIndex]);\n\n  // Prevent background scrolling the simple way for cross-browser stability\n  React.useEffect(() => {\n    const html = document.documentElement;\n    const body = document.body;\n    if (lightboxIndex !== null) {\n      html.style.overflow = 'hidden';\n      body.style.overflow = 'hidden';\n    } else {\n      html.style.overflow = '';\n      body.style.overflow = '';\n    }\n  }, [lightboxIndex]);\n\n  const itemsToRender = limit ? GALLERY_ITEMS.slice(0, limit) : GALLERY_ITEMS;\n  const baseClass = `${fullWidth ? 'gallery gallery--full' : 'section gallery'}`;\n  const modeClass = strip ? 'gallery--strip' : 'gallery--masonry';\n  const wrapperClass = `${baseClass} ${modeClass}${compact ? ' gallery--compact' : ''}`;\n\n  const activeItem =\n    lightboxIndex !== null && lightboxIndex >= 0 && lightboxIndex < itemsToRender.length\n      ? itemsToRender[lightboxIndex]\n      : null;\n\n  const lightbox =\n    activeItem ? (\n      <div className=\"lightbox\" role=\"dialog\" aria-modal=\"true\" onClick={closeLightbox}>\n        <div className=\"lightbox__content\" onClick={(e) => e.stopPropagation()}>\n          <img src={activeItem.src.replace(/\\.JPG$/i, '.avif')} alt={activeItem.alt} className=\"lightbox__image\" />\n        </div>\n        <button className=\"lightbox__close\" aria-label=\"Close\" onClick={closeLightbox}>\n          ×\n        </button>\n        <button className=\"lightbox__nav lightbox__nav--prev\" aria-label=\"Previous\" onClick={showPrev}>\n          ‹\n        </button>\n        <button className=\"lightbox__nav lightbox__nav--next\" aria-label=\"Next\" onClick={showNext}>\n          ›\n        </button>\n      </div>\n    ) : null;\n\n  return (\n    <section className={wrapperClass} id=\"gallery\" aria-label=\"Gallery of our work\">\n      <div className=\"gallery__header\">\n        <h2 className=\"section-title\">Our Work</h2>\n        <p className=\"section__subtitle\">A few highlights from recent cleans</p>\n      </div>\n\n      <div className=\"gallery__grid\">\n        {itemsToRender.map((item, index) => (\n          <button\n            key={`${item.alt}-${index}`}\n            className={`gallery__tile ${strip ? 'gallery__tile--uniform' : `gallery__tile--${item.size}`}`}\n            onClick={() => openLightbox(index)}\n            aria-label={`Open image`}\n          >\n            <LazyImage src={item.src} data-avif={item.avif} data-webp={item.webp} alt={item.alt} loading=\"lazy\" />\n            <span className=\"gallery__tile-overlay\" aria-hidden=\"true\" />\n          </button>\n        ))}\n      </div>\n\n      {limit && (\n        <div className=\"gallery__cta\">\n          <a\n            href=\"/gallery\"\n            className=\"btn btn--outline\"\n            aria-label=\"View full gallery of our work\"\n          >\n            View Full Gallery\n          </a>\n        </div>\n      )}\n      {lightbox && ReactDOM.createPortal(lightbox, document.body)}\n    </section>\n  );\n}\n","import React from 'react';\nimport Gallery from './Gallery';\n\nexport default function FullGalleryPage() {\n  return <Gallery fullWidth />;\n}\n"],"names":["_ref","src","alt","className","loading","placeholder","props","_objectWithoutProperties","_excluded","isLoaded","setIsLoaded","useState","isInView","setIsInView","imgRef","useRef","useEffect","observer","IntersectionObserver","_ref2","entry","isIntersecting","disconnect","threshold","rootMargin","current","observe","handleLoad","handleError","canTranscode","test","base","replace","avifSrc","concat","webpSrc","undefined","_jsx","ref","style","minHeight","children","_jsxs","type","srcSet","_objectSpread","onLoad","onError","opacity","transition","width","height","objectFit","background","backgroundSize","animation","mosaicPattern","makeCaption","name","GALLERY_ITEMS","map","fileName","idx","process","avif","webp","caption","size","length","Gallery","limit","fullWidth","compact","strip","lightboxIndex","setLightboxIndex","React","totalItems","Math","min","closeLightbox","onKey","e","key","i","document","addEventListener","removeEventListener","html","documentElement","body","overflow","itemsToRender","slice","baseClass","modeClass","wrapperClass","activeItem","lightbox","role","onClick","stopPropagation","id","item","index","openLightbox","LazyImage","href","ReactDOM","FullGalleryPage"],"sourceRoot":""}