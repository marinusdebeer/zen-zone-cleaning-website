{"version":3,"file":"static/js/65.dc6ebcc2.chunk.js","mappings":"kMAQA,MAAMA,EAAU,IAAIC,EAAAA,GAAaC,KAAK,CAACC,EAAGC,IAAM,IAAIC,KAAKD,EAAEE,MAAQ,IAAID,KAAKF,EAAEG,OACxEC,GAAUC,EAAAA,EAAAA,KAEhB,SAASC,EAAIC,GAAc,IAAb,OAAEC,GAAQD,EACtB,OACEE,EAAAA,EAAAA,KAAA,OACEC,UAAS,gBAAAC,OAAkBH,EAAS,uBAAyB,IAC7DI,MAAM,KACNC,OAAO,KACPC,QAAQ,YACR,cAAY,OAAMC,UAElBN,EAAAA,EAAAA,KAAA,QAAMO,EAAE,4HAGd,CAEA,SAASC,EAAMC,GAAY,IAADC,EAAA,IAAV,KAAEC,GAAMF,EACtB,MACMG,GADWD,GAAQ,KAAKE,OACRC,MAAM,OACtBC,GAAgB,QAARL,EAAAE,EAAM,UAAE,IAAAF,OAAA,EAARA,EAAUM,OAAO,KAAM,IAC/BC,EAAOL,EAAMM,OAAS,EAAIN,EAAMA,EAAMM,OAAS,GAAGF,OAAO,GAAK,GAC9DG,EAAW,GAAAjB,OAAGa,GAAKb,OAAGe,GAAOG,cACnC,OACEpB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAiB,cAAY,OAAMK,SAC/Ca,GAGP,CAEA,SAASE,EAAUC,GAAc,IAAb,OAAEC,GAAQD,EAC5B,MAAME,GAAWD,EAAOE,MAAQ,IAAIZ,OAC9Ba,EAAWF,IAAY,mCAAmCG,KAAKH,GACrE,OACEI,EAAAA,EAAAA,MAAA,WAAS3B,UAAU,cAAaK,SAAA,EAC9BsB,EAAAA,EAAAA,MAAA,UAAQ3B,UAAU,sBAAqBK,SAAA,EACrCN,EAAAA,EAAAA,KAACQ,EAAM,CAACG,KAAMY,EAAOZ,QACrBiB,EAAAA,EAAAA,MAAA,OAAK3B,UAAU,oBAAmBK,SAAA,EAChCsB,EAAAA,EAAAA,MAAA,UAAQ3B,UAAU,oBAAmBK,SAAA,CAClCiB,EAAOZ,KAAM,IACbY,EAAOM,eACN7B,EAAAA,EAAAA,KAAA,QAAMC,UAAU,qBAAqB6B,MAAM,cAAaxB,SAAC,oBAK7DN,EAAAA,EAAAA,KAAA,OAAKC,UAAU,sBAAsB,gBAAAC,OAAeqB,EAAOQ,OAAM,mBAAkBzB,SAChF0B,MAAMC,KAAK,CAAEf,OAAQ,IAAKgB,IAAI,CAACC,EAAGC,KACjCpC,EAAAA,EAAAA,KAACH,EAAI,CAASE,OAAQqC,EAAIb,EAAOQ,QAAtBK,OAGfpC,EAAAA,EAAAA,KAAA,QAAMC,UAAU,oBAAmBK,SAAEiB,EAAO7B,aAG/CgC,IACCE,EAAAA,EAAAA,MAAA,cAAY3B,UAAU,oBAAmBK,SAAA,CAAC,IACtCiB,EAAOE,KAAK,SAKxB,CAEe,SAASY,IACPC,EAAAA,QAAc,KAC3B,MAAMC,EAAQnD,EAAQ8B,OAChBsB,EAAMpD,EAAQqD,OAAO,CAACC,EAAKC,IAAMD,GAAOE,OAAOD,EAAEZ,SAAW,GAAI,GAEtE,MAAO,CAAEQ,QAAOM,QADJN,EAAQC,EAAMD,EAAQ,IAEjC,IALH,MAOMO,EAAUR,EAAAA,OAAa,MAgC7B,OA7BAA,EAAAA,UAAgB,KACd,MAAMS,EAAOD,EAAQE,QACrB,IAAKD,EAAM,OAEX,MAAME,EAAUA,KACd,MAAMC,EAASC,OAAOC,iBAAiBL,GACjCM,EAASC,WAAWJ,EAAOK,iBAAiB,aAAe,GAC3DC,EAAUF,WAAWJ,EAAOK,iBAAiB,oBAAsB,EACzEvB,MAAMC,KAAKc,EAAKzC,UAAUmD,QAASC,IAEjCA,EAAKC,MAAMC,WAAa,OACxB,MAAMxD,EAASsD,EAAKG,wBAAwBzD,OACtC0D,EAAOC,KAAKC,MAAM5D,EAASiD,IAAWG,EAAUH,IACtDK,EAAKC,MAAMC,WAAU,QAAA1D,OAAW4D,MAIpCb,IACA,MAAMgB,EAAK,IAAIC,eAAe,IAAMjB,KAKpC,OAJAgB,EAAGE,QAAQpB,GACXf,MAAMC,KAAKc,EAAKzC,UAAUmD,QAASW,GAAMH,EAAGE,QAAQC,IACpDjB,OAAOkB,iBAAiB,SAAUpB,GAE3B,KACLE,OAAOmB,oBAAoB,SAAUrB,GACrCgB,EAAGM,eAEJ,KAGD3C,EAAAA,EAAAA,MAAA,WAAS3B,UAAU,UAAUuE,GAAG,UAAU,aAAW,iBAAgBlE,SAAA,EACnEsB,EAAAA,EAAAA,MAAA,OAAK3B,UAAU,kBAAiBK,SAAA,EAC9BN,EAAAA,EAAAA,KAACyE,EAAAA,EAAM,CAACC,GAAG,KAAKzE,UAAU,iBAAiB0E,UAAU,KAAIrE,SAAC,aAC1DN,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mBAAkBK,UAC/BsB,EAAAA,EAAAA,MAAA,KACEgD,KAAK,4CACLC,OAAO,SACPC,IAAI,sBACJ7E,UAAU,gBAAeK,SAAA,EAEzBsB,EAAAA,EAAAA,MAAA,QAAM3B,UAAU,cAAc,cAAY,OAAMK,SAAA,EAC9CN,EAAAA,EAAAA,KAAA,QAAMC,UAAU,YAAWK,SAAC,OAC5BN,EAAAA,EAAAA,KAAA,QAAMC,UAAU,WAAUK,SAAC,OAC3BN,EAAAA,EAAAA,KAAA,QAAMC,UAAU,cAAaK,SAAC,OAC9BN,EAAAA,EAAAA,KAAA,QAAMC,UAAU,YAAWK,SAAC,OAC5BN,EAAAA,EAAAA,KAAA,QAAMC,UAAU,aAAYK,SAAC,OAC7BN,EAAAA,EAAAA,KAAA,QAAMC,UAAU,WAAUK,SAAC,UAE7BN,EAAAA,EAAAA,KAAA,QAAAM,SAAM,aACNsB,EAAAA,EAAAA,MAAA,QACE3B,UAAU,mBACV,wBAAAC,OAAuBP,EAAQkD,QAAQkC,QAAQ,GAAE,UAAA7E,OAASP,EAAQ4C,MAAK,YAAWjC,SAAA,EAElFN,EAAAA,EAAAA,KAAA,UAAAM,SAASX,EAAQkD,QAAQkC,QAAQ,KAAY,KAAGpF,EAAQ4C,MAAM,gBAMtEvC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,+BAA+B,aAAW,eAAe+E,IAAKlC,EAAQxC,SAClFlB,EAAQ8C,IAAI,CAACS,EAAGP,KACfpC,EAAAA,EAAAA,KAACyE,EAAAA,EAAM,CAAkBC,GAAG,MAAMC,UAAWvC,EAAI,IAAM,EAAI,OAAS,QAAQ9B,UAC1EN,EAAAA,EAAAA,KAACqB,EAAU,CAACE,OAAQoB,KADTA,EAAEhC,KAAOyB,QAOhC,C","sources":["components/Reviews.js"],"sourcesContent":["import React from 'react';\nimport './Reviews.css';\nimport './Faces.css';\nimport './Mascots.css';\nimport { REVIEWS as RAW_REVIEWS, getReviewsSummary } from './reviewsData';\nimport Reveal from './Reveal';\n\n// Sort by date desc; parse using Date for robust ordering\nconst REVIEWS = [...RAW_REVIEWS].sort((a, b) => new Date(b.date) - new Date(a.date));\nconst SUMMARY = getReviewsSummary();\n\nfunction Star({ filled }) {\n  return (\n    <svg\n      className={`review__star ${filled ? 'review__star--filled' : ''}`}\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 24 24\"\n      aria-hidden=\"true\"\n    >\n      <path d=\"M12 .587l3.668 7.431 8.2 1.192-5.934 5.786 1.401 8.164L12 18.896l-7.335 3.864 1.401-8.164L.132 9.21l8.2-1.192L12 .587z\" />\n    </svg>\n  );\n}\n\nfunction Avatar({ name }) {\n  const trimmed = (name || '?').trim();\n  const parts = trimmed.split(/\\s+/);\n  const first = parts[0]?.charAt(0) || '?';\n  const last = parts.length > 1 ? parts[parts.length - 1].charAt(0) : '';\n  const initials = `${first}${last}`.toUpperCase();\n  return (\n    <div className=\"review__avatar\" aria-hidden=\"true\">\n      {initials}\n    </div>\n  );\n}\n\nfunction ReviewCard({ review }) {\n  const rawText = (review.text || '').trim();\n  const showText = rawText && !/^\\[no written review provided\\]/i.test(rawText);\n  return (\n    <article className=\"review-card\">\n      <header className=\"review-card__header\">\n        <Avatar name={review.name} />\n        <div className=\"review-card__meta\">\n          <strong className=\"review-card__name\">\n            {review.name}{' '}\n            {review.isLocalGuide && (\n              <span className=\"review-card__badge\" title=\"Local Guide\">\n                Local Guide\n              </span>\n            )}\n          </strong>\n          <div className=\"review-card__rating\" aria-label={`${review.rating} out of 5 stars`}>\n            {Array.from({ length: 5 }).map((_, i) => (\n              <Star key={i} filled={i < review.rating} />\n            ))}\n          </div>\n          <span className=\"review-card__date\">{review.date}</span>\n        </div>\n      </header>\n      {showText && (\n        <blockquote className=\"review-card__text\">\n          \"{review.text}\"\n        </blockquote>\n      )}\n    </article>\n  );\n}\n\nexport default function Reviews() {\n  const totals = React.useMemo(() => {\n    const count = REVIEWS.length;\n    const sum = REVIEWS.reduce((acc, r) => acc + (Number(r.rating) || 0), 0);\n    const avg = count ? sum / count : 0;\n    return { count, average: avg };\n  }, []);\n\n  const gridRef = React.useRef(null);\n\n  // Masonry sizing to ensure consistent vertical gaps without overlap\n  React.useEffect(() => {\n    const grid = gridRef.current;\n    if (!grid) return;\n\n    const compute = () => {\n      const styles = window.getComputedStyle(grid);\n      const rowGap = parseFloat(styles.getPropertyValue('row-gap')) || 16;\n      const autoRow = parseFloat(styles.getPropertyValue('grid-auto-rows')) || 8;\n      Array.from(grid.children).forEach((item) => {\n        // Reset span to auto to measure natural height\n        item.style.gridRowEnd = 'auto';\n        const height = item.getBoundingClientRect().height;\n        const span = Math.ceil((height + rowGap) / (autoRow + rowGap));\n        item.style.gridRowEnd = `span ${span}`;\n      });\n    };\n\n    compute();\n    const ro = new ResizeObserver(() => compute());\n    ro.observe(grid);\n    Array.from(grid.children).forEach((c) => ro.observe(c));\n    window.addEventListener('resize', compute);\n\n    return () => {\n      window.removeEventListener('resize', compute);\n      ro.disconnect();\n    };\n  }, []);\n\n  return (\n    <section className=\"reviews\" id=\"reviews\" aria-label=\"Client Reviews\">\n      <div className=\"reviews__header\">\n        <Reveal as=\"h2\" className=\"reviews__title\" animation=\"up\">Reviews</Reveal>\n        <div className=\"reviews__actions\">\n          <a\n            href=\"https://maps.app.goo.gl/EyMWdSuMsExvrxaG7\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"google-button\"\n          >\n            <span className=\"google-word\" aria-hidden=\"true\">\n              <span className=\"g g--blue\">G</span>\n              <span className=\"g g--red\">o</span>\n              <span className=\"g g--yellow\">o</span>\n              <span className=\"g g--blue\">g</span>\n              <span className=\"g g--green\">l</span>\n              <span className=\"g g--red\">e</span>\n            </span>\n            <span>Reviews</span>\n            <span\n              className=\"reviews__summary\"\n              aria-label={`Average ${SUMMARY.average.toFixed(1)} from ${SUMMARY.count} reviews`}\n            >\n              <strong>{SUMMARY.average.toFixed(1)}</strong> ({SUMMARY.count})\n            </span>\n          </a>\n        </div>\n      </div>\n\n      <div className=\"reviews__grid reveal-stagger\" aria-label=\"Reviews list\" ref={gridRef}>\n        {REVIEWS.map((r, i) => (\n          <Reveal key={r.name + i} as=\"div\" animation={i % 2 === 0 ? 'left' : 'right'}>\n            <ReviewCard review={r} />\n          </Reveal>\n        ))}\n      </div>\n    </section>\n  );\n}\n"],"names":["REVIEWS","RAW_REVIEWS","sort","a","b","Date","date","SUMMARY","getReviewsSummary","Star","_ref","filled","_jsx","className","concat","width","height","viewBox","children","d","Avatar","_ref2","_parts$","name","parts","trim","split","first","charAt","last","length","initials","toUpperCase","ReviewCard","_ref3","review","rawText","text","showText","test","_jsxs","isLocalGuide","title","rating","Array","from","map","_","i","Reviews","React","count","sum","reduce","acc","r","Number","average","gridRef","grid","current","compute","styles","window","getComputedStyle","rowGap","parseFloat","getPropertyValue","autoRow","forEach","item","style","gridRowEnd","getBoundingClientRect","span","Math","ceil","ro","ResizeObserver","observe","c","addEventListener","removeEventListener","disconnect","id","Reveal","as","animation","href","target","rel","toFixed","ref"],"sourceRoot":""}