"use strict";(self.webpackChunkzen_zone_website=self.webpackChunkzen_zone_website||[]).push([[65],{65:(e,a,s)=>{s.r(a),s.d(a,{default:()=>v});var r=s(43),n=(s(4),s(30),s(868)),i=s(605),t=s(579);const l=[...n.C].sort((e,a)=>new Date(a.date)-new Date(e.date)),c=(0,n._)();function d(e){let{filled:a}=e;return(0,t.jsx)("svg",{className:"review__star ".concat(a?"review__star--filled":""),width:"20",height:"20",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M12 .587l3.668 7.431 8.2 1.192-5.934 5.786 1.401 8.164L12 18.896l-7.335 3.864 1.401-8.164L.132 9.21l8.2-1.192L12 .587z"})})}function o(e){var a;let{name:s}=e;const r=(s||"?").trim().split(/\s+/),n=(null===(a=r[0])||void 0===a?void 0:a.charAt(0))||"?",i=r.length>1?r[r.length-1].charAt(0):"",l="".concat(n).concat(i).toUpperCase();return(0,t.jsx)("div",{className:"review__avatar","aria-hidden":"true",children:l})}function h(e){let{review:a}=e;const s=(a.text||"").trim(),r=s&&!/^\[no written review provided\]/i.test(s);return(0,t.jsxs)("article",{className:"review-card",children:[(0,t.jsxs)("header",{className:"review-card__header",children:[(0,t.jsx)(o,{name:a.name}),(0,t.jsxs)("div",{className:"review-card__meta",children:[(0,t.jsxs)("strong",{className:"review-card__name",children:[a.name," ",a.isLocalGuide&&(0,t.jsx)("span",{className:"review-card__badge",title:"Local Guide",children:"Local Guide"})]}),(0,t.jsx)("div",{className:"review-card__rating","aria-label":"".concat(a.rating," out of 5 stars"),children:Array.from({length:5}).map((e,s)=>(0,t.jsx)(d,{filled:s<a.rating},s))}),(0,t.jsx)("span",{className:"review-card__date",children:a.date})]})]}),r&&(0,t.jsxs)("blockquote",{className:"review-card__text",children:['"',a.text,'"']})]})}function v(){r.useMemo(()=>{const e=l.length,a=l.reduce((e,a)=>e+(Number(a.rating)||0),0);return{count:e,average:e?a/e:0}},[]);const e=r.useRef(null);return r.useEffect(()=>{const a=e.current;if(!a)return;const s=()=>{const e=window.getComputedStyle(a),s=parseFloat(e.getPropertyValue("row-gap"))||16,r=parseFloat(e.getPropertyValue("grid-auto-rows"))||8;Array.from(a.children).forEach(e=>{e.style.gridRowEnd="auto";const a=e.getBoundingClientRect().height,n=Math.ceil((a+s)/(r+s));e.style.gridRowEnd="span ".concat(n)})};s();const r=new ResizeObserver(()=>s());return r.observe(a),Array.from(a.children).forEach(e=>r.observe(e)),window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s),r.disconnect()}},[]),(0,t.jsxs)("section",{className:"reviews",id:"reviews","aria-label":"Client Reviews",children:[(0,t.jsxs)("div",{className:"reviews__header",children:[(0,t.jsx)(i.A,{as:"h2",className:"reviews__title",animation:"up",children:"Reviews"}),(0,t.jsx)("div",{className:"reviews__actions",children:(0,t.jsxs)("a",{href:"https://maps.app.goo.gl/EyMWdSuMsExvrxaG7",target:"_blank",rel:"noopener noreferrer",className:"google-button",children:[(0,t.jsxs)("span",{className:"google-word","aria-hidden":"true",children:[(0,t.jsx)("span",{className:"g g--blue",children:"G"}),(0,t.jsx)("span",{className:"g g--red",children:"o"}),(0,t.jsx)("span",{className:"g g--yellow",children:"o"}),(0,t.jsx)("span",{className:"g g--blue",children:"g"}),(0,t.jsx)("span",{className:"g g--green",children:"l"}),(0,t.jsx)("span",{className:"g g--red",children:"e"})]}),(0,t.jsx)("span",{children:"Reviews"}),(0,t.jsxs)("span",{className:"reviews__summary","aria-label":"Average ".concat(c.average.toFixed(1)," from ").concat(c.count," reviews"),children:[(0,t.jsx)("strong",{children:c.average.toFixed(1)})," (",c.count,")"]})]})})]}),(0,t.jsx)("div",{className:"reviews__grid reveal-stagger","aria-label":"Reviews list",ref:e,children:l.map((e,a)=>(0,t.jsx)(i.A,{as:"div",animation:a%2===0?"left":"right",children:(0,t.jsx)(h,{review:e})},e.name+a))})]})}}}]);
//# sourceMappingURL=65.dc6ebcc2.chunk.js.map